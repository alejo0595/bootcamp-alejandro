{%- comment -%}Alejandro Custom modfication: Add a classes for product-card and sub-headings fonts{%- endcomment -%}
{%- style -%}

#{{ section.id }} .mycustom-feautured_collection-sub_heading-font {
  font-family: {{settings.mycustom_sub_heading_font}}!important;
  color: {{section.settings.mycustom_sub_heading_font_color}}!important;
  font-size: {{section.settings.mycustom_sub_heading_font_size}}rem !important;
}

#{{section.id}} .mycustom-newsletter-input-styling {
  border: 3px solid #F4AB9D !important;
}

#{{ section.id }} .mycustom-newsletter-icon-styling > svg {
  width: {{ section.settings.mycustom_icon_size }}px !important; height: {{ section.settings.icon_size }}px !important;
}

}
{%- endstyle -%}

{%- unless section.settings.color_scheme == 'none' -%}
  {%- liquid
    if section.settings.color_scheme == 'scheme-1'
      assign bg_color = settings.col_scheme_1_bg
      assign text_color = settings.col_scheme_1_text
    elsif section.settings.color_scheme == 'scheme-2'
      assign bg_color = settings.col_scheme_2_bg
      assign text_color = settings.col_scheme_2_text
    else
      if section.settings.color_bg == blank or section.settings.color_bg contains ',0'
        assign bg_color = settings.col_page_bg
      else
        assign bg_color = section.settings.color_bg
      endif

      unless section.settings.color_heading == blank or section.settings.color_heading contains ',0'
        assign heading_color = section.settings.color_heading
      endunless

      if section.settings.color_text == blank or section.settings.color_text contains ',0'
        assign text_color = false
      else
        assign text_color = section.settings.color_text
      endif
    endif
  -%}

  {%- style -%}
    {%- if section.settings.color_scheme == 'custom' -%}
      {%- if text_color  -%}
        #{{ section.id }} { background-color: {{ bg_color }}; color: {{ text_color }}; }
        #{{ section.id }} .button { border-color: {{ text_color }}; background: {{ text_color }}; color: {{ bg_color }}; }
        #{{ section.id }} .button:hover { background: {{ bg_color }}; color: {{ text_color }}; }
      {%- else -%}
        #{{ section.id }} { background-color: {{ bg_color }}; }
      {%- endif -%}
    {%- endif -%}
    {%- if heading_color -%}
      #{{ section.id }} .signup-icon { color: {{ heading_color }}; }
      {%- if section.settings.heading != blank and section.settings.color_scheme == 'custom' -%}
        #{{ section.id }} .section-heading { color: {{ heading_color }}; }
      {%- endif -%}
    {%- endif -%}
    {%- if text_color -%}
      #{{ section.id }} .input { border-color: {{ text_color | color_mix: bg_color, 40 }}; color: {{ text_color }}; }
      #{{ section.id }} .input:focus { border-color: {{ text_color }}; }
      #{{ section.id }} .input::placeholder { color: {{ text_color | color_modify: 'alpha', 0.5 }}; }
    {%- endif -%}
  {%- endstyle -%}
{%- endunless -%}

<div class="newsletter {% if bg_color == settings.col_page_bg or section.settings.color_scheme == 'none' %}spaced-section{% else %}padded-section{% endif %}{% if section.settings.color_scheme == 'scheme-1' or section.settings.color_scheme == 'scheme-2' %} color-{{ section.settings.color_scheme }}{% endif %}" id="{{ section.id }}" data-section-type="newsletter" data-cc-animate>
  <div class="container">
    <div class="signup-section">
      {%- assign form_id = section.id | prepend: 'signup-form-' -%}
      {% form 'customer', id: form_id %}
        <input type="hidden" name="contact[tags]" value="prospect,newsletter">
        {%- comment -%}Alejandro Custom Modfication:{%- endcomment -%}
        {%- if section.settings.mycustom_show_icon -%}
          <div class="signup-icon mycustom-newsletter-icon-styling">
            {% render 'svg-email' %}
          </div>
        {%- endif -%}
        {%- if section.settings.heading != blank -%}
          <h2 class="section-heading {%- if section.settings.mycustom_sub_heading != blank -%} {{ 'mb-1' | prepend: ' ' }} {%- endif -%}">{{ section.settings.heading | escape }}</h2>
          {%- comment -%}Alejandro Custom Modfication:{%- endcomment -%}
          {%- if section.settings.mycustom_sub_heading != blank-%}
            <h3 class="mycustom-feautured_collection-sub_heading-font">{{ section.settings.mycustom_sub_heading | escape }}</h3>
          {%- endif -%}
        {%- endif -%}
        {%- comment -%}{%- endcomment -%}
        <div class="input-with-button">
          <div class="input-with-button__input-wrapper me-0">
            <input class="input-with-button__input input mycustom-newsletter-input-styling"
                   type="email"
                   name="contact[email]"
                   autocomplete="email"
                   placeholder="{{ 'layout.signup.email' | t }}"
                   aria-label="{{ 'layout.signup.email' | t | escape }}"
                   aria-required="true"
                   required>
          </div>
          <button class="input-with-button__button button" type="submit">{% render 'mycustom-{{ section.settings.mycustom_icon }}' %}</button>
        </div>

        {%- if section.settings.text != blank -%}
          <div class="rte reading-width">
            {{ section.settings.text }}
          </div>
        {%- endif -%}
      {% endform %}
    </div>
  </div>
</div>

{%- comment -%}{%- endcomment -%}
{% schema %}
  {
    "name": "Newsletter",
    "tag": "section",
    "settings": [
      {
        "type": "checkbox",
        "id": "mycustom_show_icon",
        "label": "Show icon",
        "default": false
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Subscribe to our newsletter"
      },
      {
      "type": "text",
      "id": "mycustom_sub_heading",
      "label": "Sub-Heading",
      "default": "My awsome newsletter "
    }, {
      "type": "range",
      "id": "mycustom_sub_heading_font_size",
      "label": "Sub-heading size",
      "unit": "rem",
      "min": 1,
      "max": 10,
      "step": 0.1,
      "default": 1
    }, {
      "type": "color",
      "id": "mycustom_sub_heading_font_color",
      "label": "Sub-heading color",
      "default": "#EAAE86"
    },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>A short sentence describing what someone will receive by subscribing<\/p>"
      },
      {
        "type": "header",
        "content": "Icon options"
      },
      {
        "type": "select",
        "id": "mycustom_icon",
        "label": "Icon",
        "options": [
          {
            "value": "svg-package",
            "label": "Package"
          },
          {
            "value": "svg-support",
            "label": "Support"
          },
          {
            "value": "svg-shield",
            "label": "Shield"
          },
          {
            "value": "svg-return",
            "label": "Return"
          },
          {
            "value": "svg-cart",
            "label": "Cart"
          },
          {
            "value": "svg-beer",
            "label": "Beer"
          },
          {
            "value": "svg-coffee",
            "label": "Coffee"
          },
          {
            "value": "svg-draw",
            "label": "Draw"
          },
          {
            "value": "svg-map-location",
            "label": "Map location"
          },
          {
            "value": "svg-send",
            "label": "Send"
          },
          {
            "value": "svg-view",
            "label": "View"
          },
          {
            "value": "svg-bookmark",
            "label": "Bookmark"
          },
          {
            "value": "svg-compass",
            "label": "Compass"
          },
          {
            "value": "svg-heart-mobile",
            "label": "Heart mobile"
          },
          {
            "value": "svg-phone",
            "label": "Phone"
          },
          {
            "value": "svg-world",
            "label": "World"
          },
          {
            "value": "svg-chat",
            "label": "Chat"
          },
          {
            "value": "svg-credit-card",
            "label": "Credit card"
          },
          {
            "value": "svg-lock",
            "label": "Lock"
          },
          {
            "value": "svg-thumbs-up",
            "label": "Thumbs up"
          },
          {
            "value": "mycustom-svg-baby_cart",
            "label": "Baby Cart"
          },
          {
            "value": "mycustom-svg-flower",
            "label": "Flower"
          },
          {
            "value": "mycustom-svg-hand_water",
            "label": "Hand and Water"
          },
          {
            "value": "mycustom-svg-plant",
            "label": "Plant"
          },
          {
            "value": "mycustom-svg-spa",
            "label": "Spa"
          },
          {
            "value": "mycustom-svg-field",
            "label": "Field"
          },
          {
            "value": "mycustom-svg-arrow_forward",
            "label": "Arrow Forward"
          }
        ],
        "default": "mycustom-svg-arrow_forward"
      },
      {
        "type": "range",
        "id": "mycustom_icon_size",
        "min": 20,
        "max": 200,
        "step": 5,
        "unit": "px",
        "label": "Icon / image size",
        "default": 50
      },
      {
        "type": "header",
        "content": "Style"
      },
      {
        "type": "select",
        "id": "color_scheme",
        "label": "Color scheme",
        "options": [
          {
            "value": "none",
            "label": "Default"
          },
          {
            "value": "scheme-1",
            "label": "Scheme 1"
          },
          {
            "value": "scheme-2",
            "label": "Scheme 2"
          },
          {
            "value": "custom",
            "label": "Custom (set below)"
          }
        ],
        "default": "scheme-1"
      },
      {
        "type": "color",
        "id": "color_bg",
        "label": "Custom background color"
      },
      {
        "type": "color",
        "id": "color_heading",
        "label": "Custom heading color"
      },
      {
        "type": "color",
        "id": "color_text",
        "label": "Custom text color"
      },
      {
        "type": "paragraph",
        "content": "Customers who subscribe will have their email address added to the \"accepts marketing\" [customer list](/admin/customers?query=&accepts_marketing=1)"
      }
    ],
    "presets": [
      {
        "name": "Newsletter"
      }
    ]
  }
{% endschema %}
